# claimAIO é”™è¯¯ï¼šERC20InsufficientBalance è§£å†³æ–¹æ¡ˆ

## ğŸ”´ é”™è¯¯ä¿¡æ¯

```
execution reverted (unknown custom error)
data: 0xe450d38c000000000000000000000000c3464b2ae8507d69...
```

è¿™ä¸ªé”™è¯¯æ˜¯ `ERC20InsufficientBalance`ï¼Œè¡¨ç¤º **aioRewardPool çš„ AIO Token ä½™é¢ä¸è¶³**ã€‚

## é”™è¯¯æ•°æ®è§£æ

- **é”™è¯¯ç±»å‹**: `ERC20InsufficientBalance`
- **Sender (aioRewardPool)**: `0xc3464b2Ae8507d6977e2815ab1A6825811623433`
- **å½“å‰ä½™é¢**: `10000000100000000` (100000001 AIOï¼ŒæŒ‰8ä½å°æ•°)
- **éœ€è¦çš„é‡‘é¢**: `150000000000000000000` (1500000000000 AIOï¼ŒæŒ‰8ä½å°æ•°)

## é—®é¢˜åŸå› 

`claimAIO` å‡½æ•°æ‰§è¡Œ `transferFrom(aioRewardPool, user, amount)` æ—¶ï¼Œå‘ç°ï¼š
- **å¥–åŠ±æ± ä½™é¢ä¸è¶³**ï¼šå½“å‰ä½™é¢ < éœ€è¦è½¬ç§»çš„é‡‘é¢
- **å¯èƒ½çš„åŸå› **ï¼š
  1. å¥–åŠ±æ± åœ°å€çš„ AIO Token ä½™é¢ç¡®å®ä¸è¶³
  2. å‰ç«¯ä¼ é€’çš„é‡‘é¢æ ¼å¼é”™è¯¯ï¼ˆä½¿ç”¨äº† 18 ä½å°æ•°è€Œä¸æ˜¯ 8 ä½å°æ•°ï¼‰

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1: å‘å¥–åŠ±æ± è½¬è´¦æ›´å¤š AIO Tokenï¼ˆæ¨èï¼‰

å¦‚æœå¥–åŠ±æ± ä½™é¢ç¡®å®ä¸è¶³ï¼Œéœ€è¦å‘å¥–åŠ±æ± åœ°å€è½¬è´¦ AIO Tokenï¼š

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export AIO_TOKEN_ADDRESS=0x7a1d1F7Cb42997E3cCc32E69BD26BEbe33ef8F57
export REWARD_POOL_ADDRESS=0xc3464b2Ae8507d6977e2815ab1A6825811623433
export TRANSFER_AMOUNT=15000000000  # 150 AIO (150 * 10^8ï¼Œå› ä¸º AIO ä½¿ç”¨ 8 ä½å°æ•°)

# ä»æœ‰ä½™é¢çš„åœ°å€è½¬è´¦åˆ°å¥–åŠ±æ± 
cast send $AIO_TOKEN_ADDRESS \
  "transfer(address,uint256)(bool)" \
  $REWARD_POOL_ADDRESS \
  $TRANSFER_AMOUNT \
  --rpc-url https://sepolia.base.org \
  --private-key <SENDER_PRIVATE_KEY>
```

**é€šè¿‡ Safe å¤šç­¾æ‰§è¡Œ**ï¼ˆå¦‚æœå‘é€æ–¹æ˜¯ Safe å¤šç­¾ï¼‰ï¼š
1. åœ¨ Safe å¤šç­¾ç•Œé¢åˆ›å»ºäº¤æ˜“
2. è°ƒç”¨ `AIOERC20.transfer(rewardPoolAddress, amount)`
3. ç¡®è®¤å¹¶æ‰§è¡Œäº¤æ˜“

### æ–¹æ¡ˆ 2: æ£€æŸ¥å¹¶ä¿®å¤å‰ç«¯é‡‘é¢æ ¼å¼

å¦‚æœå‰ç«¯ä¼ é€’çš„é‡‘é¢æ ¼å¼é”™è¯¯ï¼ˆä½¿ç”¨äº† 18 ä½å°æ•°è€Œä¸æ˜¯ 8 ä½å°æ•°ï¼‰ï¼Œéœ€è¦ä¿®å¤å‰ç«¯ä»£ç ã€‚

**AIO Token ä½¿ç”¨ 8 ä½å°æ•°**ï¼Œæ‰€ä»¥ï¼š
- âœ… æ­£ç¡®ï¼š`150 * 10^8 = 15000000000` (150 AIO)
- âŒ é”™è¯¯ï¼š`150 * 10^18 = 150000000000000000000` (1500000000000 AIO)

**å‰ç«¯ä»£ç ç¤ºä¾‹**ï¼ˆä½¿ç”¨ ethers.jsï¼‰ï¼š

```javascript
// âŒ é”™è¯¯ï¼šä½¿ç”¨ 18 ä½å°æ•°
const amount = ethers.parseEther("150"); // 150 * 10^18

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ 8 ä½å°æ•°
const amount = ethers.parseUnits("150", 8); // 150 * 10^8
```

### æ–¹æ¡ˆ 3: éªŒè¯å¥–åŠ±æ± ä½™é¢

æ‰§è¡Œå‰å…ˆæ£€æŸ¥å¥–åŠ±æ± çš„å®é™…ä½™é¢ï¼š

```bash
# æ£€æŸ¥å¥–åŠ±æ± çš„ AIO Token ä½™é¢
cast call 0x7a1d1F7Cb42997E3cCc32E69BD26BEbe33ef8F57 \
  "balanceOf(address)(uint256)" \
  0xc3464b2Ae8507d6977e2815ab1A6825811623433 \
  --rpc-url https://sepolia.base.org
```

ç„¶åè®¡ç®—å®é™…ä½™é¢ï¼ˆAIO ä½¿ç”¨ 8 ä½å°æ•°ï¼‰ï¼š
```bash
# å¦‚æœè¿”å› 10000000100000000
# å®é™…ä½™é¢ = 10000000100000000 / 10^8 = 100000001 AIO
```

## ğŸ” è¯Šæ–­æ­¥éª¤

### æ­¥éª¤ 1: æ£€æŸ¥å¥–åŠ±æ± ä½™é¢

```bash
cast call 0x7a1d1F7Cb42997E3cCc32E69BD26BEbe33ef8F57 \
  "balanceOf(address)(uint256)" \
  0xc3464b2Ae8507d6977e2815ab1A6825811623433 \
  --rpc-url https://sepolia.base.org
```

### æ­¥éª¤ 2: æ£€æŸ¥ Allowance

```bash
cast call 0x7a1d1F7Cb42997E3cCc32E69BD26BEbe33ef8F57 \
  "allowance(address,address)(uint256)" \
  0xc3464b2Ae8507d6977e2815ab1A6825811623433 \
  0x194B90670ba16E5ceF54A595e56b8157962c2E88 \
  --rpc-url https://sepolia.base.org
```

### æ­¥éª¤ 3: æ£€æŸ¥ AIO Token çš„ decimals

```bash
cast call 0x7a1d1F7Cb42997E3cCc32E69BD26BEbe33ef8F57 \
  "decimals()(uint8)" \
  --rpc-url https://sepolia.base.org
```

åº”è¯¥è¿”å› `8`ã€‚

### æ­¥éª¤ 4: éªŒè¯å‰ç«¯ä¼ é€’çš„é‡‘é¢æ ¼å¼

æ£€æŸ¥å‰ç«¯ä»£ç ä¸­ claimAIO çš„é‡‘é¢è®¡ç®—ï¼š
- åº”è¯¥ä½¿ç”¨ `ethers.parseUnits(amount, 8)` è€Œä¸æ˜¯ `ethers.parseEther(amount)`
- æˆ–è€…ç›´æ¥ä½¿ç”¨åŸå§‹å€¼ï¼š`amount * 10^8`

## ğŸ“‹ å®Œæ•´æ£€æŸ¥æ¸…å•

- [ ] æ£€æŸ¥å¥–åŠ±æ±  AIO Token ä½™é¢
- [ ] æ£€æŸ¥ Allowance æ˜¯å¦è¶³å¤Ÿ
- [ ] éªŒè¯ AIO Token decimals = 8
- [ ] æ£€æŸ¥å‰ç«¯é‡‘é¢æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆä½¿ç”¨ 8 ä½å°æ•°ï¼‰
- [ ] å¦‚æœä½™é¢ä¸è¶³ï¼Œå‘å¥–åŠ±æ± è½¬è´¦ AIO Token
- [ ] å¦‚æœé‡‘é¢æ ¼å¼é”™è¯¯ï¼Œä¿®å¤å‰ç«¯ä»£ç 

## ğŸ’¡ å…³é”®ç†è§£

**AIO Token ä½¿ç”¨ 8 ä½å°æ•°**ï¼Œä¸æ˜¯æ ‡å‡†çš„ 18 ä½å°æ•°ï¼

- æ ‡å‡† ERC20ï¼šé€šå¸¸ä½¿ç”¨ 18 ä½å°æ•°
- AIO Tokenï¼šä½¿ç”¨ **8 ä½å°æ•°**

**é‡‘é¢è½¬æ¢**ï¼š
- 1 AIO = 100000000 (10^8) æœ€å°å•ä½
- 150 AIO = 15000000000 (150 * 10^8) æœ€å°å•ä½

**å‰ç«¯ä»£ç å¿…é¡»ä½¿ç”¨æ­£ç¡®çš„ decimals**ï¼š
```javascript
// æ­£ç¡®
const amount = ethers.parseUnits("150", 8); // 150 AIO

// é”™è¯¯
const amount = ethers.parseEther("150"); // 1500000000000 AIO (é”™è¯¯ï¼)
```

## ğŸ¯ æ€»ç»“

**å½“å‰é—®é¢˜**ï¼š
- å¥–åŠ±æ± ä½™é¢ï¼š100000001 AIO
- éœ€è¦é‡‘é¢ï¼š1500000000000 AIOï¼ˆå¦‚æœæŒ‰8ä½å°æ•°è®¡ç®—ï¼‰
- æˆ–è€…ï¼š150 AIOï¼ˆå¦‚æœæŒ‰18ä½å°æ•°è®¡ç®—ï¼Œä½†è¿™æ˜¯é”™è¯¯çš„æ ¼å¼ï¼‰

**æœ€å¯èƒ½çš„åŸå› **ï¼š
1. å‰ç«¯ä½¿ç”¨äº†é”™è¯¯çš„ decimalsï¼ˆ18 è€Œä¸æ˜¯ 8ï¼‰
2. æˆ–è€…å¥–åŠ±æ± ä½™é¢ç¡®å®ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥å¹¶ä¿®å¤å‰ç«¯é‡‘é¢æ ¼å¼
2. å‘å¥–åŠ±æ± è½¬è´¦è¶³å¤Ÿçš„ AIO Token

